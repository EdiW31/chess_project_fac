{"ast":null,"code":"var _jsxFileName = \"/Users/weisseduard/Desktop/chess_project_fac/fisher-random-chess/frontend/src/components/Board.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport Chessboard from \"chessboardjsx\";\nimport axios from \"axios\";\nimport { Chess } from \"chess.js\";\nimport MoveHistory from \"./MoveHistory\";\nimport Score from \"./Score.js\";\nimport \"../styles/Board.scss\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Board = () => {\n  _s();\n  // State declarations\n  const [gameState, setGameState] = useState({\n    fen: \"start\",\n    moves: [],\n    scoreWhite: 0,\n    scoreBlack: 0,\n    isCheck: false,\n    isCheckmate: false\n  });\n  const [capturedPieces, setCapturedPieces] = useState({\n    white: [],\n    black: []\n  });\n  const [highlightedSquares, setHighlightedSquares] = useState({});\n  const [learningData, setLearningData] = useState(null);\n\n  // Effects\n  useEffect(() => {\n    initializeGame();\n  }, []);\n\n  // API calls\n  const initializeGame = async () => {\n    try {\n      const [setupResponse, learningResponse] = await Promise.all([axios.get(\"http://127.0.0.1:5000/api/setup\"), axios.get(\"http://127.0.0.1:5000/api/learning_data\")]);\n      setGameState(prev => ({\n        ...prev,\n        fen: setupResponse.data\n      }));\n      setLearningData(learningResponse.data);\n    } catch (error) {\n      console.error(\"Error initializing game:\", error);\n    }\n  };\n  const fetchValidMoves = async square => {\n    try {\n      const response = await axios.post(\"http://127.0.0.1:5000/api/legal_moves\", {\n        fen: gameState.fen,\n        square\n      });\n      const newHighlightedSquares = response.data.moves.reduce((acc, move) => ({\n        ...acc,\n        [move]: {\n          background: \"rgba(255, 255, 0, 0.4)\",\n          borderRadius: \"50%\"\n        }\n      }), {});\n      setHighlightedSquares(newHighlightedSquares);\n    } catch (error) {\n      console.error(\"Error fetching valid moves:\", error);\n    }\n  };\n\n  // Event handlers\n  const onDrop = ({\n    sourceSquare,\n    targetSquare\n  }) => {\n    const isPawnPromotion = checkPawnPromotion(sourceSquare, targetSquare);\n    const promotion = isPawnPromotion ? \"q\" : null;\n    axios.post(\"http://127.0.0.1:5000/api/move\", {\n      from: sourceSquare,\n      to: targetSquare,\n      fen: gameState.fen,\n      promotion\n    }).then(handleMoveResponse).catch(handleMoveError);\n  };\n  const onMouseOverSquare = square => {\n    try {\n      const chess = new Chess(gameState.fen);\n      if (chess.get(square)) {\n        fetchValidMoves(square);\n      }\n    } catch (error) {\n      console.error(\"Error checking piece:\", error);\n    }\n  };\n  const onMouseOutSquare = () => setHighlightedSquares({});\n  const resetGame = () => {\n    axios.get(\"http://127.0.0.1:5000/api/start_game\").then(response => {\n      setGameState({\n        fen: response.data.fen,\n        moves: [],\n        scoreWhite: 0,\n        scoreBlack: 0,\n        isCheck: false,\n        isCheckmate: false\n      });\n      setCapturedPieces({\n        white: [],\n        black: []\n      });\n    }).catch(error => console.error(\"Error resetting game:\", error));\n  };\n\n  // Helper functions\n  const checkPawnPromotion = (sourceSquare, targetSquare) => {\n    const isWhitePawn = gameState.fen.split(\" \")[1] === \"w\" && sourceSquare[1] === \"7\" && targetSquare[1] === \"8\";\n    const isBlackPawn = gameState.fen.split(\" \")[1] === \"b\" && sourceSquare[1] === \"2\" && targetSquare[1] === \"1\";\n    return isWhitePawn || isBlackPawn;\n  };\n  const handleMoveResponse = response => {\n    if (response.data.status === \"success\") {\n      updateGameState(response.data);\n    } else if (response.data.status === \"game_over\") {\n      alert(response.data.message);\n      resetGame();\n    } else {\n      alert(response.data.message || \"Invalid move.\");\n    }\n  };\n  const handleMoveError = error => {\n    console.error(\"Error making move:\", error);\n    alert(\"Invalid move or server error.\");\n  };\n  const updateGameState = data => {\n    setGameState(prev => ({\n      ...prev,\n      fen: data.fen,\n      moves: [...prev.moves, data.lastMove],\n      scoreWhite: data.score_white || prev.scoreWhite,\n      scoreBlack: data.score_black || prev.scoreBlack,\n      isCheck: data.is_check || false,\n      isCheckmate: data.is_checkmate || false\n    }));\n    setCapturedPieces({\n      white: data.captured_by_white || [],\n      black: data.captured_by_black || []\n    });\n  };\n\n  // Render\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"chess-game\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Fisher Random Chess\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: resetGame,\n        children: \"Reset Game\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"game-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"left-panel\",\n        children: [/*#__PURE__*/_jsxDEV(Score, {\n          scoreBlack: gameState.scoreBlack,\n          scoreWhite: gameState.scoreWhite,\n          isCheck: gameState.isCheck,\n          isCheckmate: gameState.isCheckmate\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(MoveHistory, {\n          moves: gameState.moves\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 11\n        }, this), learningData && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"learning-data\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Learning Data\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Games Played:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 18\n            }, this), \" \", learningData.games_played]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Piece Values:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            children: Object.entries(learningData.piece_values).map(([piece, value]) => /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [piece, \": \", value.toFixed(2)]\n            }, piece, true, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chessboard-container\",\n        children: /*#__PURE__*/_jsxDEV(Chessboard, {\n          position: gameState.fen,\n          onDrop: onDrop,\n          onMouseOverSquare: onMouseOverSquare,\n          onMouseOutSquare: onMouseOutSquare,\n          squareStyles: highlightedSquares,\n          draggable: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"right-panel\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"captured-pieces\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Captured by Player:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"pieces\",\n            children: capturedPieces.black.map((piece, index) => /*#__PURE__*/_jsxDEV(\"img\", {\n              src: `/assets/chess-pieces/${piece}.png`,\n              alt: piece\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"captured-pieces\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Captured by Bot:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"pieces\",\n            children: capturedPieces.white.map((piece, index) => /*#__PURE__*/_jsxDEV(\"img\", {\n              src: `/assets/chess-pieces/${piece}.png`,\n              alt: piece\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 157,\n    columnNumber: 5\n  }, this);\n};\n_s(Board, \"2TJgcDekMQBXFgkDBUmroqzWmAY=\");\n_c = Board;\nexport default Board;\nvar _c;\n$RefreshReg$(_c, \"Board\");","map":{"version":3,"names":["React","useState","useEffect","Chessboard","axios","Chess","MoveHistory","Score","jsxDEV","_jsxDEV","Board","_s","gameState","setGameState","fen","moves","scoreWhite","scoreBlack","isCheck","isCheckmate","capturedPieces","setCapturedPieces","white","black","highlightedSquares","setHighlightedSquares","learningData","setLearningData","initializeGame","setupResponse","learningResponse","Promise","all","get","prev","data","error","console","fetchValidMoves","square","response","post","newHighlightedSquares","reduce","acc","move","background","borderRadius","onDrop","sourceSquare","targetSquare","isPawnPromotion","checkPawnPromotion","promotion","from","to","then","handleMoveResponse","catch","handleMoveError","onMouseOverSquare","chess","onMouseOutSquare","resetGame","isWhitePawn","split","isBlackPawn","status","updateGameState","alert","message","lastMove","score_white","score_black","is_check","is_checkmate","captured_by_white","captured_by_black","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","games_played","Object","entries","piece_values","map","piece","value","toFixed","position","squareStyles","draggable","index","src","alt","_c","$RefreshReg$"],"sources":["/Users/weisseduard/Desktop/chess_project_fac/fisher-random-chess/frontend/src/components/Board.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Chessboard from \"chessboardjsx\";\nimport axios from \"axios\";\nimport { Chess } from \"chess.js\";\nimport MoveHistory from \"./MoveHistory\";\nimport Score from \"./Score.js\";\nimport \"../styles/Board.scss\";\n\nconst Board = () => {\n  // State declarations\n  const [gameState, setGameState] = useState({\n    fen: \"start\",\n    moves: [],\n    scoreWhite: 0,\n    scoreBlack: 0,\n    isCheck: false,\n    isCheckmate: false\n  });\n\n  const [capturedPieces, setCapturedPieces] = useState({\n    white: [],\n    black: []\n  });\n\n  const [highlightedSquares, setHighlightedSquares] = useState({});\n  const [learningData, setLearningData] = useState(null);\n\n  // Effects\n  useEffect(() => {\n    initializeGame();\n  }, []);\n\n  // API calls\n  const initializeGame = async () => {\n    try {\n      const [setupResponse, learningResponse] = await Promise.all([\n        axios.get(\"http://127.0.0.1:5000/api/setup\"),\n        axios.get(\"http://127.0.0.1:5000/api/learning_data\")\n      ]);\n\n      setGameState(prev => ({ ...prev, fen: setupResponse.data }));\n      setLearningData(learningResponse.data);\n    } catch (error) {\n      console.error(\"Error initializing game:\", error);\n    }\n  };\n\n  const fetchValidMoves = async (square) => {\n    try {\n      const response = await axios.post(\"http://127.0.0.1:5000/api/legal_moves\", {\n        fen: gameState.fen,\n        square\n      });\n\n      const newHighlightedSquares = response.data.moves.reduce((acc, move) => ({\n        ...acc,\n        [move]: {\n          background: \"rgba(255, 255, 0, 0.4)\",\n          borderRadius: \"50%\"\n        }\n      }), {});\n\n      setHighlightedSquares(newHighlightedSquares);\n    } catch (error) {\n      console.error(\"Error fetching valid moves:\", error);\n    }\n  };\n\n  // Event handlers\n  const onDrop = ({ sourceSquare, targetSquare }) => {\n    const isPawnPromotion = checkPawnPromotion(sourceSquare, targetSquare);\n    const promotion = isPawnPromotion ? \"q\" : null;\n\n    axios.post(\"http://127.0.0.1:5000/api/move\", {\n      from: sourceSquare,\n      to: targetSquare,\n      fen: gameState.fen,\n      promotion\n    })\n    .then(handleMoveResponse)\n    .catch(handleMoveError);\n  };\n\n  const onMouseOverSquare = (square) => {\n    try {\n      const chess = new Chess(gameState.fen);\n      if (chess.get(square)) {\n        fetchValidMoves(square);\n      }\n    } catch (error) {\n      console.error(\"Error checking piece:\", error);\n    }\n  };\n\n  const onMouseOutSquare = () => setHighlightedSquares({});\n\n  const resetGame = () => {\n    axios.get(\"http://127.0.0.1:5000/api/start_game\")\n      .then(response => {\n        setGameState({\n          fen: response.data.fen,\n          moves: [],\n          scoreWhite: 0,\n          scoreBlack: 0,\n          isCheck: false,\n          isCheckmate: false\n        });\n        setCapturedPieces({ white: [], black: [] });\n      })\n      .catch(error => console.error(\"Error resetting game:\", error));\n  };\n\n  // Helper functions\n  const checkPawnPromotion = (sourceSquare, targetSquare) => {\n    const isWhitePawn = gameState.fen.split(\" \")[1] === \"w\" &&\n                       sourceSquare[1] === \"7\" && targetSquare[1] === \"8\";\n    const isBlackPawn = gameState.fen.split(\" \")[1] === \"b\" &&\n                       sourceSquare[1] === \"2\" && targetSquare[1] === \"1\";\n    return isWhitePawn || isBlackPawn;\n  };\n\n  const handleMoveResponse = (response) => {\n    if (response.data.status === \"success\") {\n      updateGameState(response.data);\n    } else if (response.data.status === \"game_over\") {\n      alert(response.data.message);\n      resetGame();\n    } else {\n      alert(response.data.message || \"Invalid move.\");\n    }\n  };\n\n  const handleMoveError = (error) => {\n    console.error(\"Error making move:\", error);\n    alert(\"Invalid move or server error.\");\n  };\n\n  const updateGameState = (data) => {\n    setGameState(prev => ({\n      ...prev,\n      fen: data.fen,\n      moves: [...prev.moves, data.lastMove],\n      scoreWhite: data.score_white || prev.scoreWhite,\n      scoreBlack: data.score_black || prev.scoreBlack,\n      isCheck: data.is_check || false,\n      isCheckmate: data.is_checkmate || false\n    }));\n\n    setCapturedPieces({\n      white: data.captured_by_white || [],\n      black: data.captured_by_black || []\n    });\n  };\n\n  // Render\n  return (\n    <div className=\"chess-game\">\n      <header>\n        <h2>Fisher Random Chess</h2>\n        <button onClick={resetGame}>Reset Game</button>\n      </header>\n\n      <div className=\"game-container\">\n        <div className=\"left-panel\">\n          <Score\n            scoreBlack={gameState.scoreBlack}\n            scoreWhite={gameState.scoreWhite}\n            isCheck={gameState.isCheck}\n            isCheckmate={gameState.isCheckmate}\n          />\n          <MoveHistory moves={gameState.moves} />\n          {learningData && (\n            <div className=\"learning-data\">\n              <h3>Learning Data</h3>\n              <p><strong>Games Played:</strong> {learningData.games_played}</p>\n              <h4>Piece Values:</h4>\n              <ul>\n                {Object.entries(learningData.piece_values).map(([piece, value]) => (\n                  <li key={piece}>{piece}: {value.toFixed(2)}</li>\n                ))}\n              </ul>\n            </div>\n          )}\n        </div>\n\n        <div className=\"chessboard-container\">\n          <Chessboard\n            position={gameState.fen}\n            onDrop={onDrop}\n            onMouseOverSquare={onMouseOverSquare}\n            onMouseOutSquare={onMouseOutSquare}\n            squareStyles={highlightedSquares}\n            draggable={true}\n          />\n        </div>\n\n        <div className=\"right-panel\">\n          <div className=\"captured-pieces\">\n            <h3>Captured by Player:</h3>\n            <div className=\"pieces\">\n              {capturedPieces.black.map((piece, index) => (\n                <img \n                  key={index}\n                  src={`/assets/chess-pieces/${piece}.png`}\n                  alt={piece}\n                />\n              ))}\n            </div>\n          </div>\n\n          <div className=\"captured-pieces\">\n            <h3>Captured by Bot:</h3>\n            <div className=\"pieces\">\n              {capturedPieces.white.map((piece, index) => (\n                <img \n                  key={index}\n                  src={`/assets/chess-pieces/${piece}.png`}\n                  alt={piece}\n                />\n              ))}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Board;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,UAAU,MAAM,eAAe;AACtC,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,KAAK,QAAQ,UAAU;AAChC,OAAOC,WAAW,MAAM,eAAe;AACvC,OAAOC,KAAK,MAAM,YAAY;AAC9B,OAAO,sBAAsB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE9B,MAAMC,KAAK,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAClB;EACA,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGZ,QAAQ,CAAC;IACzCa,GAAG,EAAE,OAAO;IACZC,KAAK,EAAE,EAAE;IACTC,UAAU,EAAE,CAAC;IACbC,UAAU,EAAE,CAAC;IACbC,OAAO,EAAE,KAAK;IACdC,WAAW,EAAE;EACf,CAAC,CAAC;EAEF,MAAM,CAACC,cAAc,EAAEC,iBAAiB,CAAC,GAAGpB,QAAQ,CAAC;IACnDqB,KAAK,EAAE,EAAE;IACTC,KAAK,EAAE;EACT,CAAC,CAAC;EAEF,MAAM,CAACC,kBAAkB,EAAEC,qBAAqB,CAAC,GAAGxB,QAAQ,CAAC,CAAC,CAAC,CAAC;EAChE,MAAM,CAACyB,YAAY,EAAEC,eAAe,CAAC,GAAG1B,QAAQ,CAAC,IAAI,CAAC;;EAEtD;EACAC,SAAS,CAAC,MAAM;IACd0B,cAAc,CAAC,CAAC;EAClB,CAAC,EAAE,EAAE,CAAC;;EAEN;EACA,MAAMA,cAAc,GAAG,MAAAA,CAAA,KAAY;IACjC,IAAI;MACF,MAAM,CAACC,aAAa,EAAEC,gBAAgB,CAAC,GAAG,MAAMC,OAAO,CAACC,GAAG,CAAC,CAC1D5B,KAAK,CAAC6B,GAAG,CAAC,iCAAiC,CAAC,EAC5C7B,KAAK,CAAC6B,GAAG,CAAC,yCAAyC,CAAC,CACrD,CAAC;MAEFpB,YAAY,CAACqB,IAAI,KAAK;QAAE,GAAGA,IAAI;QAAEpB,GAAG,EAAEe,aAAa,CAACM;MAAK,CAAC,CAAC,CAAC;MAC5DR,eAAe,CAACG,gBAAgB,CAACK,IAAI,CAAC;IACxC,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;IAClD;EACF,CAAC;EAED,MAAME,eAAe,GAAG,MAAOC,MAAM,IAAK;IACxC,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAMpC,KAAK,CAACqC,IAAI,CAAC,uCAAuC,EAAE;QACzE3B,GAAG,EAAEF,SAAS,CAACE,GAAG;QAClByB;MACF,CAAC,CAAC;MAEF,MAAMG,qBAAqB,GAAGF,QAAQ,CAACL,IAAI,CAACpB,KAAK,CAAC4B,MAAM,CAAC,CAACC,GAAG,EAAEC,IAAI,MAAM;QACvE,GAAGD,GAAG;QACN,CAACC,IAAI,GAAG;UACNC,UAAU,EAAE,wBAAwB;UACpCC,YAAY,EAAE;QAChB;MACF,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;MAEPtB,qBAAqB,CAACiB,qBAAqB,CAAC;IAC9C,CAAC,CAAC,OAAON,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,6BAA6B,EAAEA,KAAK,CAAC;IACrD;EACF,CAAC;;EAED;EACA,MAAMY,MAAM,GAAGA,CAAC;IAAEC,YAAY;IAAEC;EAAa,CAAC,KAAK;IACjD,MAAMC,eAAe,GAAGC,kBAAkB,CAACH,YAAY,EAAEC,YAAY,CAAC;IACtE,MAAMG,SAAS,GAAGF,eAAe,GAAG,GAAG,GAAG,IAAI;IAE9C/C,KAAK,CAACqC,IAAI,CAAC,gCAAgC,EAAE;MAC3Ca,IAAI,EAAEL,YAAY;MAClBM,EAAE,EAAEL,YAAY;MAChBpC,GAAG,EAAEF,SAAS,CAACE,GAAG;MAClBuC;IACF,CAAC,CAAC,CACDG,IAAI,CAACC,kBAAkB,CAAC,CACxBC,KAAK,CAACC,eAAe,CAAC;EACzB,CAAC;EAED,MAAMC,iBAAiB,GAAIrB,MAAM,IAAK;IACpC,IAAI;MACF,MAAMsB,KAAK,GAAG,IAAIxD,KAAK,CAACO,SAAS,CAACE,GAAG,CAAC;MACtC,IAAI+C,KAAK,CAAC5B,GAAG,CAACM,MAAM,CAAC,EAAE;QACrBD,eAAe,CAACC,MAAM,CAAC;MACzB;IACF,CAAC,CAAC,OAAOH,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;IAC/C;EACF,CAAC;EAED,MAAM0B,gBAAgB,GAAGA,CAAA,KAAMrC,qBAAqB,CAAC,CAAC,CAAC,CAAC;EAExD,MAAMsC,SAAS,GAAGA,CAAA,KAAM;IACtB3D,KAAK,CAAC6B,GAAG,CAAC,sCAAsC,CAAC,CAC9CuB,IAAI,CAAChB,QAAQ,IAAI;MAChB3B,YAAY,CAAC;QACXC,GAAG,EAAE0B,QAAQ,CAACL,IAAI,CAACrB,GAAG;QACtBC,KAAK,EAAE,EAAE;QACTC,UAAU,EAAE,CAAC;QACbC,UAAU,EAAE,CAAC;QACbC,OAAO,EAAE,KAAK;QACdC,WAAW,EAAE;MACf,CAAC,CAAC;MACFE,iBAAiB,CAAC;QAAEC,KAAK,EAAE,EAAE;QAAEC,KAAK,EAAE;MAAG,CAAC,CAAC;IAC7C,CAAC,CAAC,CACDmC,KAAK,CAACtB,KAAK,IAAIC,OAAO,CAACD,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC,CAAC;EAClE,CAAC;;EAED;EACA,MAAMgB,kBAAkB,GAAGA,CAACH,YAAY,EAAEC,YAAY,KAAK;IACzD,MAAMc,WAAW,GAAGpD,SAAS,CAACE,GAAG,CAACmD,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,IACpChB,YAAY,CAAC,CAAC,CAAC,KAAK,GAAG,IAAIC,YAAY,CAAC,CAAC,CAAC,KAAK,GAAG;IACrE,MAAMgB,WAAW,GAAGtD,SAAS,CAACE,GAAG,CAACmD,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,IACpChB,YAAY,CAAC,CAAC,CAAC,KAAK,GAAG,IAAIC,YAAY,CAAC,CAAC,CAAC,KAAK,GAAG;IACrE,OAAOc,WAAW,IAAIE,WAAW;EACnC,CAAC;EAED,MAAMT,kBAAkB,GAAIjB,QAAQ,IAAK;IACvC,IAAIA,QAAQ,CAACL,IAAI,CAACgC,MAAM,KAAK,SAAS,EAAE;MACtCC,eAAe,CAAC5B,QAAQ,CAACL,IAAI,CAAC;IAChC,CAAC,MAAM,IAAIK,QAAQ,CAACL,IAAI,CAACgC,MAAM,KAAK,WAAW,EAAE;MAC/CE,KAAK,CAAC7B,QAAQ,CAACL,IAAI,CAACmC,OAAO,CAAC;MAC5BP,SAAS,CAAC,CAAC;IACb,CAAC,MAAM;MACLM,KAAK,CAAC7B,QAAQ,CAACL,IAAI,CAACmC,OAAO,IAAI,eAAe,CAAC;IACjD;EACF,CAAC;EAED,MAAMX,eAAe,GAAIvB,KAAK,IAAK;IACjCC,OAAO,CAACD,KAAK,CAAC,oBAAoB,EAAEA,KAAK,CAAC;IAC1CiC,KAAK,CAAC,+BAA+B,CAAC;EACxC,CAAC;EAED,MAAMD,eAAe,GAAIjC,IAAI,IAAK;IAChCtB,YAAY,CAACqB,IAAI,KAAK;MACpB,GAAGA,IAAI;MACPpB,GAAG,EAAEqB,IAAI,CAACrB,GAAG;MACbC,KAAK,EAAE,CAAC,GAAGmB,IAAI,CAACnB,KAAK,EAAEoB,IAAI,CAACoC,QAAQ,CAAC;MACrCvD,UAAU,EAAEmB,IAAI,CAACqC,WAAW,IAAItC,IAAI,CAAClB,UAAU;MAC/CC,UAAU,EAAEkB,IAAI,CAACsC,WAAW,IAAIvC,IAAI,CAACjB,UAAU;MAC/CC,OAAO,EAAEiB,IAAI,CAACuC,QAAQ,IAAI,KAAK;MAC/BvD,WAAW,EAAEgB,IAAI,CAACwC,YAAY,IAAI;IACpC,CAAC,CAAC,CAAC;IAEHtD,iBAAiB,CAAC;MAChBC,KAAK,EAAEa,IAAI,CAACyC,iBAAiB,IAAI,EAAE;MACnCrD,KAAK,EAAEY,IAAI,CAAC0C,iBAAiB,IAAI;IACnC,CAAC,CAAC;EACJ,CAAC;;EAED;EACA,oBACEpE,OAAA;IAAKqE,SAAS,EAAC,YAAY;IAAAC,QAAA,gBACzBtE,OAAA;MAAAsE,QAAA,gBACEtE,OAAA;QAAAsE,QAAA,EAAI;MAAmB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAC5B1E,OAAA;QAAQ2E,OAAO,EAAErB,SAAU;QAAAgB,QAAA,EAAC;MAAU;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACzC,CAAC,eAET1E,OAAA;MAAKqE,SAAS,EAAC,gBAAgB;MAAAC,QAAA,gBAC7BtE,OAAA;QAAKqE,SAAS,EAAC,YAAY;QAAAC,QAAA,gBACzBtE,OAAA,CAACF,KAAK;UACJU,UAAU,EAAEL,SAAS,CAACK,UAAW;UACjCD,UAAU,EAAEJ,SAAS,CAACI,UAAW;UACjCE,OAAO,EAAEN,SAAS,CAACM,OAAQ;UAC3BC,WAAW,EAAEP,SAAS,CAACO;QAAY;UAAA6D,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACpC,CAAC,eACF1E,OAAA,CAACH,WAAW;UAACS,KAAK,EAAEH,SAAS,CAACG;QAAM;UAAAiE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,EACtCzD,YAAY,iBACXjB,OAAA;UAAKqE,SAAS,EAAC,eAAe;UAAAC,QAAA,gBAC5BtE,OAAA;YAAAsE,QAAA,EAAI;UAAa;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACtB1E,OAAA;YAAAsE,QAAA,gBAAGtE,OAAA;cAAAsE,QAAA,EAAQ;YAAa;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,KAAC,EAACzD,YAAY,CAAC2D,YAAY;UAAA;YAAAL,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACjE1E,OAAA;YAAAsE,QAAA,EAAI;UAAa;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACtB1E,OAAA;YAAAsE,QAAA,EACGO,MAAM,CAACC,OAAO,CAAC7D,YAAY,CAAC8D,YAAY,CAAC,CAACC,GAAG,CAAC,CAAC,CAACC,KAAK,EAAEC,KAAK,CAAC,kBAC5DlF,OAAA;cAAAsE,QAAA,GAAiBW,KAAK,EAAC,IAAE,EAACC,KAAK,CAACC,OAAO,CAAC,CAAC,CAAC;YAAA,GAAjCF,KAAK;cAAAV,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAiC,CAChD;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACA,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACF,CACN;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC,eAEN1E,OAAA;QAAKqE,SAAS,EAAC,sBAAsB;QAAAC,QAAA,eACnCtE,OAAA,CAACN,UAAU;UACT0F,QAAQ,EAAEjF,SAAS,CAACE,GAAI;UACxBkC,MAAM,EAAEA,MAAO;UACfY,iBAAiB,EAAEA,iBAAkB;UACrCE,gBAAgB,EAAEA,gBAAiB;UACnCgC,YAAY,EAAEtE,kBAAmB;UACjCuE,SAAS,EAAE;QAAK;UAAAf,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACjB;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,eAEN1E,OAAA;QAAKqE,SAAS,EAAC,aAAa;QAAAC,QAAA,gBAC1BtE,OAAA;UAAKqE,SAAS,EAAC,iBAAiB;UAAAC,QAAA,gBAC9BtE,OAAA;YAAAsE,QAAA,EAAI;UAAmB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAC5B1E,OAAA;YAAKqE,SAAS,EAAC,QAAQ;YAAAC,QAAA,EACpB3D,cAAc,CAACG,KAAK,CAACkE,GAAG,CAAC,CAACC,KAAK,EAAEM,KAAK,kBACrCvF,OAAA;cAEEwF,GAAG,EAAE,wBAAwBP,KAAK,MAAO;cACzCQ,GAAG,EAAER;YAAM,GAFNM,KAAK;cAAAhB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAGX,CACF;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eAEN1E,OAAA;UAAKqE,SAAS,EAAC,iBAAiB;UAAAC,QAAA,gBAC9BtE,OAAA;YAAAsE,QAAA,EAAI;UAAgB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACzB1E,OAAA;YAAKqE,SAAS,EAAC,QAAQ;YAAAC,QAAA,EACpB3D,cAAc,CAACE,KAAK,CAACmE,GAAG,CAAC,CAACC,KAAK,EAAEM,KAAK,kBACrCvF,OAAA;cAEEwF,GAAG,EAAE,wBAAwBP,KAAK,MAAO;cACzCQ,GAAG,EAAER;YAAM,GAFNM,KAAK;cAAAhB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAGX,CACF;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;AAACxE,EAAA,CA1NID,KAAK;AAAAyF,EAAA,GAALzF,KAAK;AA4NX,eAAeA,KAAK;AAAC,IAAAyF,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}